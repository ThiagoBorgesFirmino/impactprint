<?php// Modelo de dados para a tabela cupomdescontoclass parceiro extends base {	var 		$id		,$st_ativo		,$nome		,$site_parceiro		,$comissao		,$data_cadastro	;	// Salva dados	public function salva(){		$novo = !$this->id;		if($novo){			$this->data_cadastro = bd_now();		}		return parent::salva();	}			// Valida dados antes de salvar	public function validaDados(&$erro=array()){		if($this->nome==''){			$erro['nome'] = 'Digite o nome do parceiro';		}		if(floatval($this->comissao)<0){			$erro['comissao'] = 'Valor da comissÃ£o invÃ¡lido';		}		return sizeof($erro)==0;	}		// Retorna opcoes	static function opcoes(){		$opcoes = array();		$query = query($sql="SELECT id, nome FROM parceiro ORDER BY nome");		while($fetch=fetch($query)){			$opcoes[$fetch->id] = $fetch->nome;		}		return $opcoes;	}		public function exclui(){		query("DELETE FROM parceirovisita WHERE parceiro_id = {$this->id}");				return parent::exclui();	}}?>